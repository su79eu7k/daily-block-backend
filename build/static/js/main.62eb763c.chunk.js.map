{"version":3,"sources":["context/auth-context.js","components/NavBar.js","context/label-context.js","utilities/extendToken.js","components/ContentEditing.js","components/Portal.js","components/Modal.js","components/Content.js","components/Skeleton.js","components/ContentsRolling.js","components/ContentWriting.js","components/Contents.js","components/Landing.js","pages/Home.js","components/AuthGoogle.js","pages/Auth.js","App.js","reportWebVitals.js","index.js"],"names":["React","createContext","token","login","logout","NavBar","auth","useContext","AuthContext","id","to","onClick","label","changeLabel","extendToken","authContext","fetch","process","method","body","JSON","stringify","query","headers","Accept","Authorization","then","res","json","resData","data","Object","values","localStorage","setItem","catch","err","console","log","StyledWarning","styled","div","ContentEditing","props","useState","submitError","setSubmitError","editingEl","useRef","editingHandler","event","labelContext","a","preventDefault","current","value","children","setEdit","editing","split","slice","labels","contents","test","forEach","item","index","push","deleteFamilyBlocks","length","content","date","sn","variables","setBlocksUpdated","Date","now","includes","Consumer","context","className","onSubmit","e","href","target","rel","ref","defaultValue","type","Portal","container","useMemo","document","getElementById","createPortal","propTypes","PropTypes","string","node","fadeIn","keyframes","fadeOut","ModalWrapper","visible","css","ModalOverlay","ModalInner","StyledButton","button","Modal","allowScroll","setVisible","Content","edit","formValue","setFormValue","handleTouchMove","useCallback","style","overflow","removeEventListener","fetchFormValue","familyIndex","errors","statusCode","familyBlock","blocks","join","requestBody","setDeletedCount","deletedCount","handleDelete","addEventListener","capture","once","passive","localeString","toLocaleString","transitions","useTransition","from","opacity","enter","leave","map","key","currentLabel","handleEdit","Skeleton","ContentsRolling","setBlocks","loading","setLoading","selectedLabel","setLabel","fetchFamilyIndex","distinct","fetchBlocks","currentFamilies","useEffect","blocksUpdated","Provider","Array","fill","_","i","block","_id","ContentWriting","writingEl","writing","familyTimeStamp","setWrite","write","Contents","handleButtonClick","animated","StyledContainer","StyledWrapperMain","StyledWrapperEx","StyledMain","StyledEx","charAt","App","refMain","refEx","itemsMain","setItemsMain","itemsEx","setItemsEx","btnStart","setBtnStart","transitMain","k","config","mass","tension","friction","maxHeight","color","update","transitEx","sprBtnStart","useSpring","resetMain","clearTimeout","setTimeout","v","resetEx","Home","Fragment","OAuth2Client","require","clientId","client","AuthGoogle","responseGoogle","resGoogle","verifyIdToken","idToken","tokenId","audience","ticket","getPayload","name","email","picture","authUserGoogle","buttonText","onSuccess","onFailure","StyledAuthContainer","StyledAuthHeader","StyledAuthBody","StyledAuthBodyElem","StyledAuthFooter","Auth","isSignUp","setIsSignUp","emailEl","passwordEl","styledProps","password","authHandler","setAuth","loggedInfo","parse","getItem","removeItem","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.62eb763c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default React.createContext({\r\n  token: null,\r\n  login: (token) => {},\r\n  logout: () => {}\r\n})\r\n","import React, { useContext } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport AuthContext from '../context/auth-context'\r\n\r\nfunction NavBar () {\r\n  const auth = useContext(AuthContext)\r\n  return (\r\n    <header id='nav-bar'>\r\n      <div id='logo'>\r\n        Daily Blocks\r\n      </div>\r\n      <nav id='nav'>\r\n        <ul>\r\n          <li>\r\n            <NavLink to='/'><button>Home</button></NavLink>\r\n          </li>\r\n          {!auth.token && <li>\r\n            <NavLink to='/login'><button>Login</button></NavLink>\r\n          </li>}\r\n          {auth.token && <li>\r\n            <button onClick={auth.logout}>Logout</button>\r\n          </li>}\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default NavBar\r\n","import React from 'react'\r\n\r\nexport default React.createContext({\r\n  label: '',\r\n  changeLabel: (label) => {}\r\n})\r\n","function extendToken (authContext) {\r\n  const query = `query {\r\n    extendToken {\r\n      token\r\n    }\r\n  }`\r\n\r\n  fetch(process.env.REACT_APP_GRAPHQL_ENDPOINT, {\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n      query\r\n    }),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Accept: 'application/json',\r\n      Authorization: 'Bearer ' + authContext.token\r\n    }\r\n  }).then(res => {\r\n    return res.json()\r\n  }).then(resData => {\r\n    const auth = { token: resData.data.extendToken.token }\r\n    authContext.login(...Object.values(auth))\r\n    localStorage.setItem('auth', JSON.stringify(auth))\r\n  }).catch(err => {\r\n    console.log(err)\r\n  })\r\n}\r\n\r\nexport default extendToken\r\n","import React, { useState, useContext, useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport AuthContext from '../context/auth-context'\r\nimport LabelContext from '../context/label-context'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledWarning = styled.div`\r\n  font-size: .8rem;\r\n  text-align: center;\r\n`\r\n\r\nfunction ContentEditing (props) {\r\n  const [submitError, setSubmitError] = useState(false)\r\n  const auth = useContext(AuthContext)\r\n  const editingEl = useRef(null)\r\n\r\n  const editingHandler = async (event, labelContext) => {\r\n    event.preventDefault()\r\n\r\n    // If submit button pushed but actually nothing has been Changed...\r\n    if (editingEl.current.value === props.children) {\r\n      props.setEdit(false)\r\n      return\r\n    }\r\n\r\n    let editing = editingEl.current.value.split(/^(#\\s.+)$/m).slice(1)\r\n\r\n    const labels = []\r\n    const contents = []\r\n\r\n    if (editing[0] === '') {\r\n      editing = editing.slice(1)\r\n    }\r\n\r\n    if ((/^#\\s.+$/m).test(editing[0])) {\r\n      editing.forEach(function (item, index) {\r\n        if (index % 2 === 0) {\r\n          labels.push(item)\r\n        } else {\r\n          contents.push(item)\r\n        }\r\n      })\r\n    } else {\r\n      setSubmitError(true)\r\n      return\r\n    }\r\n\r\n    await props.deleteFamilyBlocks()\r\n\r\n    for (let index = 0; index < labels.length; index++) {\r\n      const label = labels[index]\r\n      const content = contents[index]\r\n      const date = props.date\r\n      const sn = index\r\n\r\n      const query = `mutation CreateBlock($label: String!, $content: String!, $date: Float!, $sn: Int!) {\r\n        createBlock(blockInput: {label: $label, content: $content, date: $date, sn: $sn}) {\r\n          label\r\n          content\r\n          date\r\n          sn\r\n        }\r\n      }`\r\n\r\n      fetch(process.env.REACT_APP_GRAPHQL_ENDPOINT, {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          query,\r\n          variables: { label, content, date, sn }\r\n        }),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Accept: 'application/json',\r\n          Authorization: 'Bearer ' + auth.token\r\n        }\r\n      }).then(res => {\r\n        return res.json()\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    }\r\n\r\n    props.setEdit(false)\r\n    props.setBlocksUpdated(Date.now())\r\n\r\n    if (labelContext.label !== '' && !labels.includes(labelContext.label)) {\r\n      labelContext.changeLabel('')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <LabelContext.Consumer>\r\n      {\r\n        (context) => {\r\n          return (\r\n            <div className='card--io--container'>\r\n              <div className='card--io--header'>Edit</div>\r\n              <div className='card--io--body'>\r\n              <form onSubmit={(e) => { editingHandler(e, context) }}>\r\n                <div className='card--io--body--elem'>\r\n                  <label><a href='https://www.markdownguide.org/basic-syntax/' target='_blank' rel='noreferrer'>Markdown</a></label>\r\n                  <textarea ref={editingEl} defaultValue={props.children}></textarea>\r\n                </div>\r\n                {submitError && <StyledWarning>⚠️ Cannot recognize label. Please check the format: #⎵label↵</StyledWarning>}\r\n                <div className='card--io--body--footer'>\r\n                  <button onClick={() => props.setEdit(false)}>Cancel</button>\r\n                  <input type=\"submit\" value=\"Submit\"></input>\r\n                </div>\r\n              </form>\r\n              </div>\r\n            </div>\r\n          )\r\n        }\r\n      }\r\n    </LabelContext.Consumer>\r\n  )\r\n}\r\n\r\nContentEditing.propTypes = {\r\n  date: PropTypes.number,\r\n  setBlocksUpdated: PropTypes.func,\r\n  children: PropTypes.string,\r\n  deleteFamilyBlocks: PropTypes.func,\r\n  setEdit: PropTypes.func,\r\n  edit: PropTypes.bool\r\n}\r\n\r\nexport default ContentEditing\r\n","import { useMemo } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction Portal (props) {\r\n  const container = useMemo(() => document.getElementById(props.container), [props.container])\r\n\r\n  return createPortal(props.children, container)\r\n}\r\n\r\nPortal.propTypes = {\r\n  container: PropTypes.string,\r\n  children: PropTypes.node\r\n}\r\n\r\nexport default Portal\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled, { keyframes, css } from 'styled-components'\r\nimport Portal from './Portal'\r\n\r\nconst fadeIn = keyframes`\r\n  0% {\r\n    opacity: 0\r\n  }\r\n  100% {\r\n    opacity: 1\r\n  }\r\n`\r\n\r\nconst fadeOut = keyframes`\r\n  0% {\r\n    opacity: 1\r\n  }\r\n  100% {\r\n    opacity: 0\r\n  }\r\n`\r\n\r\nconst ModalWrapper = styled.div`\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 1000;\r\n  overflow: auto;\r\n  outline: 0;\r\n  visibility: ${(props) => (props.visible ? 'visible' : 'hidden')};\r\n  transition: visibility 1s linear;\r\n  ${(props) => props.visible && css`animation: ${fadeIn} 1s`};\r\n  ${(props) => !props.visible && css`animation: ${fadeOut} 1s`};\r\n`\r\n\r\nconst ModalOverlay = styled.div`\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n  visibility: ${(props) => (props.visible ? 'visible' : 'hidden')};\r\n  transition: visibility 1s linear;\r\n  ${(props) => props.visible && css`animation: ${fadeIn} 1s`};\r\n  ${(props) => !props.visible && css`animation: ${fadeOut} 1s`};\r\n`\r\n\r\nconst ModalInner = styled.div`\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.5);\r\n  background-color: #f2f0ea;\r\n  border-radius: .3rem;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  margin: 0 auto;\r\n  width: 180px;\r\n  height: 120px;\r\n  @media (min-width: 600px) {\r\n    width: 240px;\r\n    height: 160px;\r\n    padding: 1.5rem;\r\n    font-size: 16px;\r\n  }\r\n  padding: 1.5rem;\r\n  font-size: 12px;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledButton = styled.button`\r\n  height: 2rem;\r\n  width: 4rem;\r\n  margin: .3rem;\r\n  border-width: 0px;\r\n  border-radius: 1rem;\r\n  background-color: #857e7a;\r\n  font-family: inherit;\r\n  font-size: .7rem;\r\n  color: #ffffff;\r\n\r\n  &:hover {\r\n    background-color: #443c36;\r\n    cursor: pointer;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nfunction Modal (props) {\r\n  const handleCancel = () => {\r\n    props.allowScroll()\r\n    props.setVisible(false)\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    props.allowScroll()\r\n    props.deleteFamilyBlocks()\r\n  }\r\n\r\n  return (\r\n    <Portal container='modal-root'>\r\n      <ModalOverlay visible={props.visible} />\r\n      <ModalWrapper visible={props.visible}>\r\n        <ModalInner>\r\n          <p>🚨 Are you sure you want to delete all sibling items?</p>\r\n          <div>\r\n            <StyledButton onClick={() => { handleCancel() }}>Cancel</StyledButton>\r\n            <StyledButton onClick={() => { handleDelete() }}>Delete</StyledButton>\r\n          </div>\r\n        </ModalInner>\r\n      </ModalWrapper>\r\n    </Portal>\r\n  )\r\n}\r\n\r\nModal.propTypes = {\r\n  visible: PropTypes.bool,\r\n  setVisible: PropTypes.func,\r\n  deleteFamilyBlocks: PropTypes.func,\r\n  allowScroll: PropTypes.func\r\n}\r\n\r\nexport default Modal\r\n","import React, { useState, useContext, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport ReactMarkdown from 'react-markdown'\r\n\r\nimport AuthContext from '../context/auth-context'\r\nimport LabelContext from '../context/label-context'\r\nimport extendToken from '../utilities/extendToken'\r\n\r\nimport ContentEditing from './ContentEditing'\r\nimport Modal from './Modal'\r\n\r\nimport { useTransition, animated } from 'react-spring'\r\n\r\nfunction Content (props) {\r\n  const [visible, setVisible] = useState(false)\r\n  const [edit, setEdit] = useState(false)\r\n  const [formValue, setFormValue] = useState(null)\r\n\r\n  const auth = useContext(AuthContext)\r\n\r\n  const handleTouchMove = useCallback((e) => {\r\n    e.preventDefault()\r\n  }, [])\r\n\r\n  const rejectScroll = () => {\r\n    document.body.style.overflow = 'hidden'\r\n    document.body.addEventListener('touchmove', handleTouchMove, {\r\n      capture: false,\r\n      once: false,\r\n      passive: false\r\n    })\r\n  }\r\n\r\n  const allowScroll = () => {\r\n    document.body.style.overflow = 'auto'\r\n    document.body.removeEventListener('touchmove', handleTouchMove)\r\n  }\r\n\r\n  const fetchFormValue = async () => {\r\n    const query = `\r\n      query Blocks($familyIndex: [Float!], $label: String) {\r\n        blocks(familyIndex: $familyIndex, label: $label) {\r\n          label\r\n          content\r\n          date\r\n        }\r\n      }`\r\n\r\n    const res = await fetch(process.env.REACT_APP_GRAPHQL_ENDPOINT, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        query,\r\n        variables: { familyIndex: [props.date], label: '' }\r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n        Authorization: 'Bearer ' + auth.token\r\n      }\r\n    })\r\n    const resData = await res.json()\r\n\r\n    if (resData.errors) {\r\n      if (resData.errors[0].statusCode === 401) {\r\n        auth.logout()\r\n        return\r\n      }\r\n    }\r\n\r\n    const familyBlock = []\r\n    resData.data.blocks.forEach((e) => {\r\n      familyBlock.push(e.label + e.content)\r\n    })\r\n\r\n    setFormValue(familyBlock.join(''))\r\n  }\r\n\r\n  const deleteFamilyBlocks = async () => {\r\n    const requestBody = {\r\n      query: `\r\n        mutation {\r\n          deleteFamilyBlocks(date: ${props.date}) {\r\n            deletedCount\r\n          }\r\n        }\r\n      `\r\n    }\r\n\r\n    const res = await fetch(process.env.REACT_APP_GRAPHQL_ENDPOINT, {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n        Authorization: 'Bearer ' + auth.token\r\n      }\r\n    })\r\n    const resData = await res.json()\r\n    props.setDeletedCount(resData.data.deleteFamilyBlocks.deletedCount)\r\n  }\r\n\r\n  const handleEdit = (authContext) => {\r\n    if (edit === false) {\r\n      fetchFormValue()\r\n      extendToken(authContext)\r\n    }\r\n    setEdit(!edit)\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    rejectScroll()\r\n    setVisible(true)\r\n  }\r\n\r\n  const localeString = new Date(props.date).toLocaleString('en-US')\r\n\r\n  const transitions = useTransition(edit, null, {\r\n    from: { opacity: 0 },\r\n    enter: { opacity: 1 },\r\n    leave: { opacity: 0 }\r\n  })\r\n\r\n  const date = props.date\r\n  const setDeletedCount = props.setDeletedCount\r\n  const setBlocksUpdated = props.setBlocksUpdated\r\n\r\n  return (\r\n    <LabelContext.Consumer>\r\n      {\r\n        (labelContext) => {\r\n          return (\r\n            <div className='card--content--container'>\r\n              {\r\n                transitions.map(({ item, key, props }) => item &&\r\n                  <animated.div key={key} style={props}>\r\n                    <ContentEditing date={date} deleteFamilyBlocks={deleteFamilyBlocks} setDeletedCount={setDeletedCount} setBlocksUpdated={setBlocksUpdated} setEdit={setEdit} edit={edit}>{formValue}</ContentEditing>\r\n                  </animated.div>\r\n                )\r\n              }\r\n              { (labelContext.currentLabel !== '' || (labelContext.currentLabel === '' && props.sn === 0)) && <div className='card--content--info'>\r\n                <div className='timestamp'>{localeString}</div>\r\n                <ul>\r\n                  <li>\r\n                    <AuthContext.Consumer>\r\n                      {\r\n                        (authContext) => {\r\n                          return (\r\n                            <div className='icon-btn' onClick={() => { handleEdit(authContext) }}>Edit</div>\r\n                          )\r\n                        }\r\n                      }\r\n                    </AuthContext.Consumer>\r\n                  </li>\r\n                  <li><div className='icon-btn' onClick={() => { handleDelete() }}>Delete</div></li>\r\n                  <Modal visible={visible} setVisible={setVisible} deleteFamilyBlocks={deleteFamilyBlocks} allowScroll={allowScroll}></Modal>\r\n                </ul>\r\n              </div>}\r\n              {\r\n                labelContext.currentLabel !== props.label\r\n                  ? <div className='card--content--label' onClick={() => {\r\n                    labelContext.currentLabel === props.label ? labelContext.changeLabel('') : labelContext.changeLabel(props.label)\r\n                  }}><h1>{props.label}</h1></div>\r\n                  : null\r\n              }\r\n              <div className='card--content--content'>\r\n                <ReactMarkdown>\r\n                  {props.content}\r\n                </ReactMarkdown>\r\n              </div>\r\n            </div>\r\n          )\r\n        }\r\n      }\r\n    </LabelContext.Consumer>\r\n  )\r\n}\r\n\r\nContent.propTypes = {\r\n  label: PropTypes.string,\r\n  date: PropTypes.number,\r\n  content: PropTypes.string,\r\n  sn: PropTypes.number,\r\n  setDeletedCount: PropTypes.func,\r\n  setBlocksUpdated: PropTypes.func,\r\n  blocksUpdated: PropTypes.number\r\n}\r\n\r\nexport default Content\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction Skeleton (props) {\r\n  return (\r\n      <div className='card--content--container'>\r\n        <div className='card--content--info'>\r\n        <div className='timestamp' id='skeleton'></div>\r\n        <ul>\r\n          <li><div className='icon-btn' id='skeleton'></div></li>\r\n          <li><div className='icon-btn' id='skeleton'></div></li>\r\n        </ul>\r\n        </div>\r\n        {\r\n          props.currentLabel === '' ? <div className='card--content--label' id='skeleton'><h1># </h1></div> : null\r\n        }\r\n        <div className='card--content--content' id='skeleton'></div>\r\n      </div>\r\n  )\r\n}\r\n\r\nSkeleton.propTypes = {\r\n  currentLabel: PropTypes.string\r\n}\r\n\r\nexport default Skeleton\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport AuthContext from '../context/auth-context'\r\nimport LabelContext from '../context/label-context'\r\nimport Content from './Content'\r\nimport Skeleton from './Skeleton'\r\n\r\nfunction ContentsRolling (props) {\r\n  const [blocks, setBlocks] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [label, setLabel] = useState({\r\n    currentLabel: '',\r\n    changeLabel: (selectedLabel) => {\r\n      setLabel({ ...label, currentLabel: selectedLabel })\r\n    }\r\n  })\r\n  const [deletedCount, setDeletedCount] = useState(null)\r\n\r\n  const auth = useContext(AuthContext)\r\n\r\n  const fetchFamilyIndex = async () => {\r\n    const query = `query {\r\n      familyIndex {\r\n        distinct\r\n      }\r\n    }`\r\n\r\n    const res = await fetch(process.env.REACT_APP_GRAPHQL_ENDPOINT, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        query\r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n        Authorization: 'Bearer ' + auth.token\r\n      }\r\n    })\r\n    const resData = await res.json()\r\n\r\n    if (resData.errors) {\r\n      if (resData.errors[0].statusCode === 401) {\r\n        auth.logout()\r\n        return\r\n      }\r\n    }\r\n\r\n    return resData.data.familyIndex.distinct\r\n  }\r\n\r\n  const fetchBlocks = async () => {\r\n    setLoading(true)\r\n\r\n    const currentLabel = label.currentLabel\r\n    let currentFamilies\r\n    if (currentLabel === '') {\r\n      const distinct = await fetchFamilyIndex()\r\n      currentFamilies = distinct\r\n    }\r\n\r\n    const query = `\r\n      query Blocks($familyIndex: [Float!], $label: String) {\r\n        blocks(familyIndex: $familyIndex, label: $label) {\r\n          _id\r\n          label\r\n          content\r\n          date\r\n          sn\r\n        }\r\n      }`\r\n\r\n    const res = await fetch(process.env.REACT_APP_GRAPHQL_ENDPOINT, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        query,\r\n        variables: { familyIndex: currentFamilies, label: currentLabel }\r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n        Authorization: 'Bearer ' + auth.token\r\n      }\r\n    })\r\n    const resData = await res.json()\r\n\r\n    if (resData.errors) {\r\n      if (resData.errors[0].statusCode === 401) {\r\n        auth.logout()\r\n        return\r\n      }\r\n    }\r\n\r\n    setBlocks(resData.data.blocks)\r\n    setLoading(false)\r\n  }\r\n\r\n  useEffect(fetchBlocks, [label.currentLabel, props.blocksUpdated, deletedCount])\r\n\r\n  return (\r\n    <LabelContext.Provider value={label}>\r\n      <div className='card--rolling--container'>\r\n        {\r\n          label.currentLabel !== ''\r\n            ? <div className='card--content--container'><div className='card--content--label--title' onClick={() => { label.changeLabel('') }}><h1>{label.currentLabel}</h1></div></div>\r\n            : null\r\n        }\r\n        {loading && new Array(3).fill(1).map((_, i) => { return <Skeleton key={i} currentLabel={label.currentLabel} /> })}\r\n        {!loading && blocks.map((block) => { return <Content key={block._id} label={block.label} date={block.date} sn={block.sn} content={block.content} setDeletedCount={setDeletedCount} blocksUpdated={props.blocksUpdated} setBlocksUpdated={props.setBlocksUpdated} /> })}\r\n      </div>\r\n    </LabelContext.Provider>\r\n  )\r\n}\r\n\r\nContentsRolling.propTypes = {\r\n  blocksUpdated: PropTypes.number,\r\n  setBlocksUpdated: PropTypes.func\r\n}\r\n\r\nexport default ContentsRolling\r\n","import React, { useState, useContext, useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport AuthContext from '../context/auth-context'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledWarning = styled.div`\r\n  font-size: .8rem;\r\n  text-align: center;\r\n`\r\n\r\nfunction ContentWriting (props) {\r\n  const [submitError, setSubmitError] = useState(false)\r\n  const auth = useContext(AuthContext)\r\n  const writingEl = useRef(null)\r\n\r\n  const writingHandler = (event) => {\r\n    event.preventDefault()\r\n\r\n    let writing = writingEl.current.value.split(/^(#\\s.+)$/m)\r\n    const familyTimeStamp = Date.now()\r\n\r\n    const labels = []\r\n    const contents = []\r\n\r\n    if (writing[0] === '') {\r\n      writing = writing.slice(1)\r\n    }\r\n\r\n    if ((/^#\\s.+$/m).test(writing[0])) {\r\n      writing.forEach(function (item, index) {\r\n        if (index % 2 === 0) {\r\n          labels.push(item)\r\n        } else {\r\n          contents.push(item)\r\n        }\r\n      })\r\n    } else {\r\n      setSubmitError(true)\r\n      return\r\n    }\r\n    labels.forEach(function (item, index) {\r\n      const label = labels[index]\r\n      const content = contents[index]\r\n      const date = familyTimeStamp\r\n      const sn = index\r\n\r\n      const query = `mutation CreateBlock($label: String!, $content: String!, $date: Float!, $sn: Int!) {\r\n            createBlock(blockInput: {label: $label, content: $content, date: $date, sn: $sn}) {\r\n              label\r\n              content\r\n              date\r\n              sn\r\n            }\r\n          }`\r\n\r\n      fetch(process.env.REACT_APP_GRAPHQL_ENDPOINT, {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          query,\r\n          variables: { label, content, date, sn }\r\n        }),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Accept: 'application/json',\r\n          Authorization: 'Bearer ' + auth.token\r\n        }\r\n      }).then(res => {\r\n        return res.json()\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    })\r\n\r\n    props.setWrite(false)\r\n    props.setBlocksUpdated(Date.now())\r\n  }\r\n\r\n  return (\r\n    <div className='card--io--container'>\r\n      <div className='card--io--body'>\r\n        <form onSubmit={writingHandler}>\r\n          <div className='card--io--body--elem'>\r\n            <label><a href='https://www.markdownguide.org/basic-syntax/' target='_blank' rel='noreferrer'>Markdown</a></label>\r\n            <textarea ref={writingEl} defaultValue={props.children}></textarea>\r\n          </div>\r\n          {submitError && <StyledWarning>⚠️ Cannot recognize label. Please check the format: #⎵label↵</StyledWarning>}\r\n          <div className='card--io--body--footer'>\r\n            <button type=\"button\" onClick={() => props.setWrite(false)}>Cancel</button>\r\n            <input type=\"submit\" value=\"Submit\"></input>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nContentWriting.propTypes = {\r\n  setBlocksUpdated: PropTypes.func,\r\n  children: PropTypes.string,\r\n  setWrite: PropTypes.func\r\n}\r\n\r\nexport default ContentWriting\r\n","import React, { useState } from 'react'\r\n\r\nimport ContentsRolling from './ContentsRolling'\r\nimport ContentWriting from './ContentWriting'\r\n\r\nimport AuthContext from '../context/auth-context'\r\nimport extendToken from '../utilities/extendToken'\r\n\r\nimport { useTransition, animated } from 'react-spring'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledButton = styled.button`\r\n  margin-top: 3vh;\r\n  height: 3rem;\r\n  width: 240px;\r\n  padding: 0px;\r\n  border-width: 0px;\r\n  border-radius: .3rem;\r\n  background-color: ${props => props.write ? '#857e7a' : '#443c36'};\r\n  font-family: inherit;\r\n  font-size: 1rem;\r\n  color: #ffffff;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: #857e7a;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n\r\n  @media (min-width: 600px) {\r\n    width: 480px;\r\n  }\r\n\r\n  @media (min-width: 900px) {\r\n    width: 720px;\r\n  }\r\n`\r\n\r\nfunction Contents () {\r\n  const [write, setWrite] = useState(false)\r\n  const [blocksUpdated, setBlocksUpdated] = useState(Date.now())\r\n\r\n  const handleButtonClick = (authContext) => {\r\n    setWrite(true)\r\n\r\n    if (!write) {\r\n      extendToken(authContext)\r\n    }\r\n  }\r\n\r\n  const transitions = useTransition(write, null, {\r\n    from: { opacity: 0 },\r\n    enter: { opacity: 1 },\r\n    leave: { opacity: 0 }\r\n  })\r\n\r\n  return (\r\n    <AuthContext.Consumer>\r\n      {\r\n        (authContext) => {\r\n          return (\r\n            <div className='card--contents--container'>\r\n              <StyledButton write={write} type='button' onClick={() => handleButtonClick(authContext)}>New ✏️</StyledButton>\r\n              {\r\n                transitions.map(({ item, key, props }) => item &&\r\n                  <animated.div key={key} style={props}>\r\n                    <ContentWriting setWrite={setWrite} setBlocksUpdated={setBlocksUpdated} />\r\n                  </animated.div>\r\n                )\r\n              }\r\n              <ContentsRolling blocksUpdated={blocksUpdated} setBlocksUpdated={setBlocksUpdated} />\r\n            </div>\r\n          )\r\n        }\r\n      }\r\n    </AuthContext.Consumer>\r\n  )\r\n}\r\n\r\nexport default Contents\r\n","import { NavLink } from 'react-router-dom'\r\nimport React, { useRef, useState, useEffect, useCallback } from 'react'\r\nimport { useSpring, useTransition, animated } from 'react-spring'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledButton = styled(animated.button)`\r\n  margin-top: 3vh;\r\n  height: 3rem;\r\n  width: 240px;\r\n  padding: 0px;\r\n  border-width: 0px;\r\n  border-radius: .3rem;\r\n  background-color: ${props => props.write ? '#857e7a' : '#443c36'};\r\n  font-family: inherit;\r\n  font-size: 1rem;\r\n  color: #ffffff;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: #857e7a;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n\r\n  @media (min-width: 600px) {\r\n    width: 480px;\r\n  }\r\n\r\n  @media (min-width: 900px) {\r\n    width: 720px;\r\n  }\r\n`\r\n\r\nconst StyledContainer = styled.div`\r\n  font-size: 2rem;\r\n  text-align: center;\r\n`\r\nconst StyledWrapperMain = styled(animated.div)`\r\n  margin: 3rem 0rem 1.5rem 0rem;\r\n  padding: 3rem 0rem 1.5rem 0rem;\r\n`\r\nconst StyledWrapperEx = styled(animated.div)`\r\n  margin: 1.5rem 0rem 3rem 0rem;\r\n  padding: 1.5rem 0rem 3rem 0rem;\r\n`\r\nconst StyledMain = styled(animated.div)`\r\n  height: auto;\r\n`\r\nconst StyledEx = styled(animated.div)`\r\n  height: auto;\r\n  font-size: ${(props) => (props.id.charAt(0) === 'd' ? '1.3rem' : '1.5rem')};\r\n  color: ${(props) => (props.id.charAt(0) === 'd' ? '#857e7a' : '#443c36')};\r\n`\r\n\r\nexport default function App () {\r\n  const refMain = useRef([])\r\n  const refEx = useRef([])\r\n\r\n  const [itemsMain, setItemsMain] = useState([])\r\n  const [itemsEx, setItemsEx] = useState([])\r\n  const [btnStart, setBtnStart] = useState(false)\r\n\r\n  const transitMain = useTransition(itemsMain, (item) => item.k, {\r\n    config: { mass: 1, tension: 210, friction: 20 },\r\n    from: { opacity: 0, maxHeight: '0rem', color: '#443c36' },\r\n    enter: [{ opacity: 1, maxHeight: '3rem', color: '#443c36' }, { color: '#857e7a' }],\r\n    leave: { opacity: 0, maxHeight: '0rem', color: '#443c36' },\r\n    update: {}\r\n  })\r\n  const transitEx = useTransition(itemsEx, (item) => item.k, {\r\n    config: { mass: 1, tension: 210, friction: 20 },\r\n    from: { opacity: 0, maxHeight: '0rem' },\r\n    enter: { opacity: 1, maxHeight: '2.4rem' },\r\n    leave: { opacity: 0, maxHeight: '0rem' },\r\n    update: {}\r\n  })\r\n  const sprBtnStart = useSpring({ opacity: btnStart ? 1 : 0 })\r\n\r\n  const resetMain = useCallback(() => {\r\n    refMain.current.map(clearTimeout)\r\n    refMain.current = []\r\n    setItemsMain([])\r\n    refMain.current.push(\r\n      setTimeout(() => setItemsMain({ k: 'm0', v: 'LIFE🤗🍺' }), 1000)\r\n    )\r\n    refMain.current.push(\r\n      setTimeout(() => setItemsMain([{ k: 'm0', v: 'LIFE🤗🍺' }, { k: 'm1', v: 'IDEA💡✨' }]), 3000)\r\n    )\r\n    refMain.current.push(\r\n      setTimeout(\r\n        () => setItemsMain([{ k: 'm0', v: 'LIFE🤗🍺' }, { k: 'm1', v: 'IDEA💡✨' }, { k: 'm2', v: 'Anything to log📈💸' }]),\r\n        5000\r\n      )\r\n    )\r\n    refMain.current.push(\r\n      setTimeout(\r\n        () => setItemsMain([{ k: 'm3', v: 'Write it down✏️📒' }]),\r\n        7000\r\n      )\r\n    )\r\n    refMain.current.push(\r\n      setTimeout(\r\n        () => setItemsMain([{ k: 'm4', v: 'And track them well🔎🏷️' }]),\r\n        14000\r\n      )\r\n    )\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    resetMain()\r\n\r\n    return () => {\r\n      setItemsMain([])\r\n      setItemsEx([])\r\n    }\r\n  }, [])\r\n\r\n  const resetEx = useCallback(() => {\r\n    refEx.current.map(clearTimeout)\r\n    refEx.current = []\r\n    setItemsEx([])\r\n    refEx.current.push(\r\n      setTimeout(\r\n        () =>\r\n          setItemsEx([\r\n            { k: 'd0', v: 'Mon.' },\r\n            { k: 'e0', v: '# IDEA' },\r\n            { k: 'e1', v: '# AAPL📈' },\r\n            { k: 'e2', v: '# EATING🍽️' }\r\n          ]),\r\n        7000\r\n      )\r\n    )\r\n    refEx.current.push(\r\n      setTimeout(\r\n        () =>\r\n          setItemsEx([\r\n            { k: 'd1', v: 'Tue.' },\r\n            { k: 'e3', v: '# EATING🍽️' },\r\n            { k: 'e4', v: '# MSFT' },\r\n            { k: 'e5', v: '# LOVE❤️' }\r\n          ]),\r\n        9000\r\n      )\r\n    )\r\n    refEx.current.push(\r\n      setTimeout(\r\n        () =>\r\n          setItemsEx([\r\n            { k: 'd2', v: 'Wed.' },\r\n            { k: 'e6', v: '# AAPL📈' },\r\n            { k: 'e7', v: '# LOVE❤️' },\r\n            { k: 'e8', v: '# EATING🍽️' }\r\n          ]),\r\n        11000\r\n      )\r\n    )\r\n    refEx.current.push(\r\n      setTimeout(\r\n        () =>\r\n          setItemsEx([\r\n            { k: 'l0', v: '# EATING🍽️' },\r\n            { k: 'd0', v: 'Wed.' },\r\n            { k: 'd1', v: 'Tue.' },\r\n            { k: 'd2', v: 'Mon.' }\r\n          ]),\r\n        14000\r\n      )\r\n    )\r\n    refEx.current.push(\r\n      setTimeout(\r\n        () =>\r\n          setItemsEx([\r\n            { k: 'l1', v: '# AAPL📈' },\r\n            { k: 'd3', v: 'Wed.' },\r\n            { k: 'd4', v: 'Mon.' }\r\n          ]),\r\n        16000\r\n      )\r\n    )\r\n    refEx.current.push(\r\n      setTimeout(\r\n        () =>\r\n          setItemsEx([\r\n            { k: 'l2', v: '# LOVE❤️' },\r\n            { k: 'd5', v: 'Wed.' },\r\n            { k: 'd6', v: 'Tue.' }\r\n          ]),\r\n        18000\r\n      )\r\n    )\r\n  }, [])\r\n\r\n  useEffect(() => resetEx(), [])\r\n\r\n  useEffect(() => { setTimeout(() => { setBtnStart(true) }, 20000) }, [])\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <StyledWrapperMain>\r\n        {transitMain.map(({ item, key, props }) => (\r\n          <StyledMain id={item.k} key={key} style={props}>\r\n            {item.v}\r\n          </StyledMain>\r\n        ))}\r\n      </StyledWrapperMain>\r\n      <StyledWrapperEx>\r\n        {transitEx.map(({ item, key, props }) => (\r\n          <StyledEx id={item.k} key={key} style={props}>\r\n            {item.v}\r\n          </StyledEx>\r\n        ))}\r\n      </StyledWrapperEx>\r\n      <NavLink to='/login'>\r\n        <StyledButton style={sprBtnStart}>Start 🔌</StyledButton>\r\n      </NavLink>\r\n    </StyledContainer>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport AuthContext from '../context/auth-context'\r\nimport Contents from '../components/Contents'\r\nimport Landing from '../components/Landing'\r\n\r\nfunction Home () {\r\n  const auth = useContext(AuthContext)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!auth.token && <Landing />}\r\n      {auth.token && <Contents />}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport GoogleLogin from 'react-google-login'\r\nimport authContext from '../context/auth-context'\r\nconst { OAuth2Client } = require('google-auth-library')\r\n\r\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID\r\nconst client = new OAuth2Client(clientId)\r\n\r\nfunction AuthGoogle () {\r\n  const responseGoogle = async (resGoogle, authContext) => {\r\n    const ticket = await client.verifyIdToken({\r\n      idToken: resGoogle.tokenId,\r\n      audience: clientId\r\n    })\r\n    const { name, email, picture } = ticket.getPayload()\r\n\r\n    const query = `mutation AuthUserGoogle($name: String!, $email: String!, $picture: String!) {\r\n      authUserGoogle(authUserGoogleInput: {name: $name, email: $email, picture: $picture}) {\r\n        token\r\n        userId\r\n        tokenExpiration\r\n      }\r\n    }`\r\n\r\n    fetch(process.env.REACT_APP_GRAPHQL_ENDPOINT, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        query,\r\n        variables: { name, email, picture }\r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json'\r\n      }\r\n    }).then(res => {\r\n      return res.json()\r\n    }).then(resData => {\r\n      const resAuth = resData.data.authUserGoogle\r\n      const auth = { token: resAuth.token }\r\n      authContext.login(...Object.values(auth))\r\n      localStorage.setItem('auth', JSON.stringify(auth))\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <authContext.Consumer>\r\n      {\r\n        (authContext) => {\r\n          return (\r\n            <GoogleLogin\r\n              clientId={clientId}\r\n              buttonText=\"Sign in with Google\"\r\n              onSuccess={(resGoogle) => { responseGoogle(resGoogle, authContext) }}\r\n              onFailure={responseGoogle}\r\n            // cookiePolicy={'single_host_origin'}\r\n            />\r\n          )\r\n        }\r\n      }\r\n    </authContext.Consumer>\r\n  )\r\n}\r\n\r\nexport default AuthGoogle\r\n","import React, { useRef, useState } from 'react'\r\nimport AuthContext from '../context/auth-context'\r\nimport AuthGoogle from '../components/AuthGoogle'\r\nimport styled from 'styled-components'\r\nimport { useSpring, animated } from 'react-spring'\r\n\r\nconst StyledAuthContainer = styled(animated.div)`\r\n  margin: 3rem auto;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledAuthHeader = styled.div`\r\n  margin: 1rem auto;\r\n`\r\n\r\nconst StyledAuthBody = styled.div`\r\n  min-width: 240px;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledAuthBodyElem = styled.div`\r\n  margin: 1rem auto;\r\n\r\n  & label {\r\n    min-width: 240px;\r\n    font-size: .7rem;\r\n    display: block;\r\n  }\r\n\r\n  & input {\r\n    min-width: 240px;\r\n    border-radius: .3rem;\r\n    border-width: 0px;\r\n    border-color: #857e7a;\r\n    padding:.7rem;\r\n    background-color:white;\r\n\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledAuthFooter = styled.div`\r\n  margin: 2rem auto;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n\r\n  & input, button {\r\n    height: 2rem;\r\n    width: 4rem;\r\n    margin: .3rem;\r\n    border-width: 0px;\r\n    border-radius: 1rem;\r\n    background-color: #857e7a;\r\n    font-family: inherit;\r\n    font-size: .7rem;\r\n    color: #ffffff;\r\n\r\n    &:hover {\r\n      background-color: #443c36;\r\n      cursor: pointer;\r\n    }\r\n\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n`\r\n\r\nfunction Auth () {\r\n  const [isSignUp, setIsSignUp] = useState(false)\r\n\r\n  const emailEl = useRef(null)\r\n  const passwordEl = useRef(null)\r\n\r\n  const authHandler = (event, authContext) => {\r\n    event.preventDefault()\r\n\r\n    const email = emailEl.current.value\r\n    const password = passwordEl.current.value\r\n\r\n    let requestBody\r\n    if (isSignUp) {\r\n      requestBody = {\r\n        query: `\r\n          mutation {\r\n            createUser(userInput: {email: \"${email}\", password: \"${password}\"}) {\r\n              _id\r\n              email\r\n            }\r\n          }\r\n        `\r\n      }\r\n    } else {\r\n      requestBody = {\r\n        query: `\r\n          query {\r\n            login(email: \"${email}\", password: \"${password}\") {\r\n              token\r\n            }\r\n          }\r\n        `\r\n      }\r\n    }\r\n\r\n    // FIXME: No user creation success/failed, login faillure logic.\r\n    fetch(process.env.REACT_APP_GRAPHQL_ENDPOINT, {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json'\r\n      }\r\n    }).then(res => {\r\n      return res.json()\r\n    }).then(resData => {\r\n      if (isSignUp) {\r\n        console.log(resData.email)\r\n      } else {\r\n        const resAuth = resData.data.login\r\n        const auth = { token: resAuth.token }\r\n        authContext.login(...Object.values(auth))\r\n        localStorage.setItem('auth', JSON.stringify(auth))\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  const styledProps = useSpring({ opacity: 1, from: { opacity: 0 } })\r\n\r\n  return (\r\n    <AuthContext.Consumer>\r\n      {\r\n        (authContext) => {\r\n          return (\r\n            <StyledAuthContainer style={styledProps}>\r\n              <StyledAuthHeader>{isSignUp ? 'Sign Up' : 'Sign In'}</StyledAuthHeader>\r\n              {/* TODO: ID/PW validation feature. */}\r\n              <StyledAuthBody>\r\n                <form onSubmit={(e) => { authHandler(e, authContext) }}>\r\n                  <StyledAuthBodyElem>\r\n                    <label>\r\n                      E-Mail\r\n                    </label>\r\n                    <input type=\"email\" ref={emailEl} />\r\n                  </StyledAuthBodyElem>\r\n                  <StyledAuthBodyElem>\r\n                    <label>\r\n                      Password\r\n                    </label>\r\n                    <input type=\"password\" ref={passwordEl} />\r\n                  </StyledAuthBodyElem>\r\n                  <StyledAuthFooter>\r\n                    <input type=\"submit\" value=\"Submit\" />\r\n                    {isSignUp && <button type=\"button\" onClick={() => setIsSignUp(false)}>Sign In</button>}\r\n                    {!isSignUp && <button type=\"button\" onClick={() => setIsSignUp(true)}>Sign Up</button>}\r\n                  </StyledAuthFooter>\r\n                </form>\r\n              </StyledAuthBody>\r\n              <AuthGoogle />\r\n            </StyledAuthContainer>\r\n          )\r\n        }\r\n      }\r\n    </AuthContext.Consumer>\r\n  )\r\n}\r\n\r\nexport default Auth\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom'\r\n\r\nimport NavBar from './components/NavBar'\r\nimport Home from './pages/Home'\r\nimport Auth from './pages/Auth'\r\n\r\nimport AuthContext from './context/auth-context'\r\n\r\nfunction App () {\r\n  const [auth, setAuth] = useState({ token: null })\r\n\r\n  const checkLoggedInfo = () => {\r\n    const loggedInfo = JSON.parse(localStorage.getItem('auth'))\r\n    if (loggedInfo) {\r\n      setAuth(loggedInfo)\r\n    }\r\n  }\r\n\r\n  useEffect(checkLoggedInfo, [])\r\n\r\n  const login = (token) => {\r\n    setAuth({ token: token })\r\n  }\r\n\r\n  const logout = () => {\r\n    setAuth({ token: null })\r\n    localStorage.removeItem('auth')\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <AuthContext.Provider value={{ token: auth.token, login: login, logout: logout }}>\r\n        <NavBar />\r\n        <main>\r\n          <Switch>\r\n            <Redirect from='/' to='/home' exact />\r\n            {!auth.token &&\r\n              <Route path='/login'>\r\n                <Auth />\r\n              </Route>}\r\n            {auth.token && <Redirect from='/login' to='/home' />}\r\n            <Route path='/home'>\r\n              <Home />\r\n            </Route>\r\n          </Switch>\r\n        </main>\r\n      </AuthContext.Provider>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}